<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usuários</title>
</head>
<style>
    ul {
        border: 2px solid red;
        width: 40%;
        display: flex;
        flex-direction: column;
        gap: 2px;
        padding: 10px 0px 30px 30px;
    }
    
    .btn {
        background-color: rgb(223, 43, 43);
        color: aliceblue;
        border: none;
        box-shadow: 0px 1px 2px black;
        padding: 4px 6px;
        margin-top: 5px;
        transition: all 0.3s;
    }
    
    .btn:hover {
        cursor: pointer;
        background-color: rgb(122, 4, 4);
    }
</style>

<body>

    <header>
        <form action="/users/search" method="get">
            <input type="text" name="key" placeholder="Pesuise um usuário">
            <button type="submit">BUSCAR</button>
        </form>
    </header>
    <main>
        <h1>Lista de Usuários</h1>
        <ul style="list-style-type: none;">
            <% if(usersAll.length === 0){ %>
                <h1>Usuário não encontrado</h1>
                <%} else { %>
                    <% usersAll.forEach(userAll => { %>
                        <li><br>- ID:
                            <%= userAll.id %>
                        </li>
                        <li>NOME:
                            <%= userAll.nome %>
                        </li>
                        <li> EMAIL:
                            <%= userAll.email %>
                        </li><br>
                        <li>
                            <button><a style="text-decoration: none;" href="/users/buscarUser/<%=userAll.id%>">Ver Perfil</a></button>
                            <button><a style="text-decoration: none;" href="/users/editar/<%=userAll.id%>">Editar Perfil</a></button>
                            <form action="/users/deletar/<%= userAll.id %>?_method=DELETE" method="post">
                                <button class="btn" type="submit">Deletar</button>
                            </form>
                        </li>
                        <% }) %>
                            <%}%>
        </ul>
    </main>
</body>
</html>
